<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<script src="main.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<style> 
        #item_img {
            max-width: 100%;
            max-height: 50vh;
        }

        #main {
            margin-top: 30vh;
            display: flex;
            justify-content: space-around;
        }
        
        label {
            display: block;
        }
    </style>
</head>

<body>
	<a href="/add-item"><button>Add item</button></a>
	<a href="/items"><button>Items</button></a>
	<a href="/add-purchase"><button>Add purchase</button></a>
	<a href="/purchases"><button>Purchases</button></a>
    
    <div id="main">
        <div id="form">
            <div id="fields" class="mb-3">
                <label class="form-label">Bar Code<input class="form-control" id="bar_code"></label>
                <label>Name<input class="form-control" id="name"></label>
                <label>Picture <input class="form-control" id="picture_url"></label>
            </div>
            <div class="mb-3">
                <button class="btn btn-primary mb-3" id="submit_button">Create</button>
            </div>
        </div>
        <img id="item_img" src="">
    </div>
</body>

<script>
    const bar_code_input = document.getElementById("bar_code");
    const name_input = document.getElementById("name");
    const picture_url_input = document.getElementById("picture_url");
    const submit_button = document.getElementById("submit_button");
    const item_img = document.getElementById("item_img");

    submit_button.addEventListener("click", () => {
        postItem({bar_code: bar_code_input.value, name: name_input.value, picture_url: picture_url_input.value})
        bar_code_input.value = "";
        name_input.value = "";
        picture_url_input.value = "";
        item_img.src = "";
    });
    picture_url_input.addEventListener("change", () => item_img.src = picture_url_input.value )

</script>
</html>
